<project name="XML Attribute Serializer" default="attributes">
  <target name="attributes">
  	<java classname="org.carrot2.util.attribute.BindableMetadataXmlSerializer">
      <arg file="${java.source}" />
      <arg file="${output.dir}" />
      <arg file="${java.source.common.attributes}" />
    </java>
  	<antcall target="copy.metadata"/>
  </target>
	
	<target name="copy.metadata" if="output.plugin.dir">
		<copy overwrite="true" todir="${output.plugin.dir}">
		  		<fileset dir="${output.dir}">
		  			<include name="org.*.xml"/>
		  		</fileset>
		  </copy>
	</target>
	
	<target name="clean">
		<delete>
		<fileset dir="${output.dir}">
			<include name="org.*.xml"/>
		</fileset>
	</delete>
	</target>
</project>