<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE history SYSTEM "schema/history.dtd">

<!--
    History of major (and minor) changes to Carrot2 codebase.
    Use your name as committer's id.
-->

<history>

    <changelist>
        <date>2003-09-18</date>
        <committer>dawid</committer>
        
        <change component="carrot2.filter.lingo-clusterer" type="refactoring">
          Changed LSI into LINGO.
        </change>
        <change component="global" type="refactoring">
          Completely restructured CVS - documentation and tests moved
          to a different package (because they were so heavy with docbook and
          other stuff).
        </change>
        <change component="global" type="refactoring">
          Modules now use a common ANT build file format that allows
          easier overriding of distribution directory. Just override distribution.dir
          variable and the WAR file will be copied there.
        </change>
        <change component="global" type="refactoring">
          All components now have Eclipse project files attached to them. You must define
          CARROT2_CVS variable to point to the root of your carrot2 CVS checkout (because
          shared libraries are referenced).
        </change>
        <change component="global" type="refactoring">
          Some tasks have been renamed (release to build and cleanall to clean, for example).
          All build tasks have been rewritten to be incremental - this should speed up the
          total time needed for the build process. 
        </change>
    </changelist>

    <changelist>
        <date>2003-07-02</date>
        <committer>dawid</committer>

        <change type="bugfix" component="carrot2.output.xslt-renderer">
          If not specified explicitly, Saxon may not be the default XSLT processor. In such situation,
          the Xerces shipped with JDK1.4 may be loaded instead and it is somehow unable to find the extension
          classes which are required for dtree to work. 
        </change>
        <change type="new" component="tests.external">
          Added a check of correctness for the HTML returned from demo pages. Also test links
          are processed in batch mode and errors are returned at the end of processing.
        </change>
        <change type="new" component="global">
          Added new logo, favicon and replaced lots and lots of references ;) 
        </change>
        <change type="bugfix" component="carrot2.input.snippet-reader">
          Log4jInitialization error (null servletConfig passed).          
        </change>
    </changelist>

    <changelist>
        <date>2003-06-28</date>
        <committer>dawid</committer>

        <change type="bugfix" component="documentation" scheduled="2003-04-29">
          Fixed bad token replacement in externally included files.
        </change>
        <change type="bugfix" component="global">
            We had jdk 1.4 API used in input component (snippet reader) and Lingo.
            We should stick to JDK 1.3 in the future unless there is really a very important rreason not to.
        </change>
    </changelist>

    <releasetag cvstag="RELEASE_0_1" tag="0.1" date="2003-06-13">
    Congratulations, version 0.1 is available.
    </releasetag>

    <changelist>
        <date>2003-06-11</date>
        <committer>dawid</committer>

        <change type="bugfix" component="carrot2.controller.carrot2-web">
            Results number was not preserved (or rather: was always set to 100). Nasty bug.
        </change>

        <change type="new" component="carrot2.controller.carrot2-web">
            Added an hourglass icon again because long delays were quite unsettling - one couldn't
            tell whether the system was working, or core-dumped :)
        </change>
    </changelist>

    <releasetag cvstag="RELEASE_0_1-RC3" tag="0.1-RC3" date="2003-05-27">
    The third release candidate. Most of the bugs hopefully fixed. Test cases added.
    </releasetag>

    <changelist>
        <date>2003-05-27</date>
        <committer>dawid</committer>

        <change type="refactoring" component="carrot2-shared-lib">
            New JDOM version throws an additional exception. Exception handler added.
        </change>
        
        <change type="refactoring" component="carrot2.controller.carrot2-web">
            Added alltheweb hourly queries limit,
            added a hidden page to handle debugging (option to limit queries to cache only for example),
            removed update component action,
            update component action no longer used.
        </change>
        
        <change type="bugfix" component="carrot2.controller.carrot2-web">
            bug fixed - parameters on demo page were improperly encoded
        </change>

        <change type="bugfix" component="runtime.environment">
            It seems that I've found and fixed the long-hunted bug with incorrect data streams passed between components. the possible cause was my multithreaded output stream, which used to send data concurrently with the filter (although it seemed like next to impossible...)
        </change>
        
        <change type="refactoring" component="runtime.environment">
            Moved to Tomcat 4.1.24
        </change>
        
        <change type="new" component="tests.external">
        new test cases, regression tests moved to a subpackage and invoked only on demand.
        </change>
    </changelist>

    <changelist>
        <date>2003-05-25</date>
        <committer>staszek</committer>

        <change type="change" component="carrot2.filter.lingo-clusterer">
        	To increase the precision of clustering, the original term-document 
        	matrix instead of the rank-reduced one is used to determine the 
        	contents of the clusters.
        </change>
        
        <change type="change" component="carrot2.filter.lingo-clusterer">
        	Algorithm parameters' tuning.
        </change>
    </changelist>

    <changelist>
        <date>2003-05-16</date>
        <committer>dawid</committer>
        <change component="tests.external" type="new">
        Added new test case which randomly invokes demo pages (100 in a sequence).
        </change>
        
        <change component="carrot2.controller.carrot2-web" type="bugfix" scheduled="2003-05-13">
        Added finally blocks to scripted processes so that all opened input streams are always closed
        (even if an exception is thrown inside the scripted process). This should fix the 'cannot sweep
        files from cache' bug.
        </change>

        <change component="global" type="bugfix" scheduled="2003-05-13">
        New version of xerces and jdom hopefully solves the problem with corrupted XMLs
        passed between components (at least the automatic tests now pass).
        </change>
    </changelist>

    <releasetag cvstag="RELEASE_0_1-RC2" tag="0.1-RC2" date="2003-05-13">
    The second release candidate. With bugs, but better than RC1.
    </releasetag>

    <changelist>
        <date>2003-05-13</date>
        <committer>dawid</committer>
        <change component="carrot2.controller.carrot2-web" type="bugfix" scheduled="2003-05-12">
            Fixed UTF-8 encoding problems in JSP pages and httpunit tests (hopefully).
        </change>
    </changelist>

    <changelist>
        <date>2003-05-11</date>
        <committer>dawid</committer>

        <change type="new" component="global">
        Added external httpUnit test cases for the distribution. All the tests will be split into internal
        - module tests - and external - httpUnit tests performed on a live controller running somewhere on
        the network.
        </change>

        <change type="bugfix" component="carrot2.controller.carrot2-web">
        The cache system caused occasional freezes of the controller. This may be because of a
        loop in the synchronized block waiting until the cached file can be deleted. Apparently
        some files cannot be deleted (why? I do not know yet). Temporary bugfix: a background thread
        controls cache sweeping. The code seems to work fine now.
        </change>
    </changelist>

    <changelist>
        <date>2003-05-10</date>
        <committer>dawid</committer>

        <change type="bugfix" component="carrot2.controller.carrot2-web">
        Navigation bug fixes: 'please wait' page removed and replaced with top frame reloading.
        Any other solution caused history 'back' button to act weird in browsers. 
        </change>

        <change type="new" component="carrot2.output.xslt-renderer.dynamic-tree">
            'Go to top group' button added. Different sort types are not available.
            Slightly modified snippets layout and a 'open in a new window' button added. 
        </change>
    </changelist>

    <releasetag cvstag="RELEASE_0_1-RC1" tag="0.1-RC1" date="2003-04-29">
    The first official binary distribution (release candidate) is available on the web site.
    </releasetag>

    <changelist>
        <date>2003-04-29</date>
        <committer>dawid</committer>

        <change type="new" component="distribution">
        The first official binary distribution (release candidate) is available on the web site.
        </change>
        <change type="new" component="documentation">
        Entire chapter in the manual about configuring and installing of the binary release
        of carrot.
        </change>
        <change type="new" component="global">
        A binary distribution can be built now. Files needed to assemble binary distribution
        have been added to the CVS, the main build file contains new targets - distribution
        and distribution.pack, which assemble the binary distribution from the CVS releases.
        </change>
        <change type="new" component="carrot2.controller.carrot2-web">
        Guard that rejects all requests to a given component.
        </change>
        <change type="bugfix" component="carrot2.controller.carrot2-web">
        	Cache configuration file had too many arguments in one section.
        </change>
    </changelist>

    <changelist>
        <date>2003-04-28</date>
        <committer>staszek</committer>

        <change type="bugfix" component="carrot2.filter.lingo-clusterer">
        	Minor bugfix in the language recognition routine. 
        	Possible NullPointerException fixed.
        </change>
    </changelist>

    <changelist>
        <date>2003-04-28</date>
        <committer>dawid</committer>

        <change type="new" component="carrot2.controller.carrot2-web">
            Processes are now displayed in 'groups' based on the input
            component they use. This is sort of premature (not localized
            etc), but is clearer than unsorted process list shown previously.
        </change>

        <change type="new" component="carrot2.controller.carrot2-web">
            Scripted processes are now verified using mock objects -- this
            to some extent allows discovering what components the process uses
            and syntactical correctness of the script.
        </change>
    </changelist>

    <changelist>
        <date>2003-04-28</date>
        <committer>staszek</committer>

        <change type="new" component="carrot2.filter.lingo-clusterer">
            A language-independent version of the clustering algorithm
            implemented.
        </change>

        <change type="new" component="carrot2.filter.lingo-clusterer">
            Capitalized terms (e.g. "IEEE") are now left as they are
            if possible.
        </change>
        
        <change type="new" component="carrot2.filter.lingo-clusterer">
            Better though sill imperfect phrase "unstemming" implemented.
        </change>
    </changelist>

    <changelist>
        <date>2003-04-27</date>
        <committer>dawid</committer>

        <change type="refactoring" component="carrot2.filter.text-only">
            Text-only component rewritten to use SAX processing and
            Tokenizer class from the common lib.
        </change>

        <change type="new" component="documentation" scheduled="2003-04-24">
            Added project history file to the manual as an appendix (formatted in docbook).
            A small bugfix - date/author table headers swapped.
        </change>

        <change type="new" component="carrot2-shared-lib" scheduled="2003-04-09">
            Added common tokenizer class to the shared library (common-lib). 
            Refer to the documentation of com.dawidweiss.carrot.tokenizer.Tokenizer 
            class or how it is used in the stemming filter. 
        </change>

        <change type="bugfix" component="carrot2.controller.carrot2-web">
            When exception was thrown during startup, the notStarted jsp page would redirect
            infinitely back to itself.
        </change>
    </changelist>

    <changelist>
        <date>2003-04-26</date>
        <committer>dawid</committer>

        <change type="refactoring" component="global" scheduled="2002-10-27">
            Add licence header to Java files in SnippetReader - all other source
            files have been reparsed and a header file has been added to them as well.
        </change>

        <change type="refactoring" component="global">
            Added a licence file (BSD derivative) to the project. Look in /docs/legal.
        </change>

    </changelist>

    <changelist>
        <date>2003-04-25</date>
        <committer>dawid</committer>

        <change type="new" component="global">
        Added to shared environment's lib: commons-logging and beanutils,
        removed the digester (not used anywhere after all), added a new version of put-utils.        
        </change>
        
        <change type="new" component="carrot2.controller.carrot2-web">
        Added QueryGuard interface and guards objects which can veto execution of any
        query (unless the input is cached). This is necessary for some components (like Google
        or AllTheWeb), which have legal constraints in automatic querying. While it is still
        sort of illegal to use SnippetReader on those services, we can at least limit the number
        of automated queries sent to them. The query guards are described using XML files in
        /WEB-INF/guards folder of the controller distribution. These files describe only JavaBean-like
        properties of a concrete implementation of QueryGuard interface (details are not really
        important here).
        </change>

        <change type="new" component="carrot2.controller.carrot2-web">
        Localized error messages (partially), BeanShell errors will be correctly displayed (without
        ugly BSF exception in front of anything else.
        </change>

    </changelist>

    <changelist>
        <date>2003-04-24</date>
        <committer>dawid</committer>
        
        <change type="new" component="documentation">
        Added XSL:FO rendering using XEP, the default Docbook stylesheet
        and a set of GhostScript fonts (download separately). If you have
        XEP in your path and fonts downloaded, invoke 'ant fo:xep' in
        docs/manual folder to build the PDF file.
        </change>
    </changelist>

    <changelist>
        <date>2003-04-22</date>
        <committer>dawid</committer>
        
        <change type="new" component="global">
        Alltheweb search engine input component added (sample LSI process also). 
        </change>
        
        <change type="bugfix" component="carrot2.controller.carrot2-web">
        Demo page now includes process default descriptions (if the localized name
        is not found in the controller).
        </change>
    </changelist>

    <changelist>
        <date>2003-04-16</date>
        <committer>dawid</committer>

        <change type="bugfix" component="carrot2.controller.carrot2-web">
            "Please wait" Javascript code has been rewritten - now styles refresh properly
            and the please wait message should always render properly.
        </change>

        <change type="bugfix" component="carrot2.filter.stc">
            When the snippet consisted of one long sentence, it was not added to the clustering
            process at all, which resulted in a null suffix tree and nullpointerexception.
        </change>
        
        <change type="new" component="carrot2.controller.carrot2-web">
            Process combo now shows the default description of the process instead
            if its ID.
        </change>
    </changelist>

    <changelist>
        <date>2003-04-15</date>
        <committer>dawid</committer>

        <change type="bugfix" component="carrot2.controller.carrot2-web">
            Recached with query element in the cached body.
        </change>

        <change type="bugfix" component="carrot2.input.random-generator">
            Fixed component descriptor (a wrong URL was present there), added
            the query element in the plain results returned from the component.
        </change>

        <change type="new" component="carrot2.input.snippet-reader">
            Outputs the query tag in the Carrot2 plain search results format.
        </change>

        <change type="new" component="global">
            Added a new log4j configurator property prefix in common-lib. If some
            property value is prefixed with "TEMP::", then this prefix is replaced
            with either system's temporary directory (java.io.tmp property) or 
            a new folder "temp" is created in the servlet context. Whatever value
            is postfixed after "TEMP::", it is appended to the temp folder's path
            and the original property is set to that absolute path. For example,
            "TEMP::mylog.log" could be translated into something like
            "C:\java\tomcat\temp\mylog.log". Note that if no temporary directory
            can be found or created, log4j initializator will throw IllegalArgumentException.
        </change>

        <change type="new" component="global">
            The plain search results format now contains an additional field
            which is a copy of the query. This field is optional, but it is strongly
            suggested that it is present in search results. Schema and documentation
            updated accordingly.
        </change>

        <change type="bugfix" component="carrot2.output.xslt-renderer.dynamic-tree">
            Groups tree's width fixed to 250px, document links open to the top frame.
        </change>

        <change type="bugfix" component="carrot2.controller.carrot2-web">
            Large input search didn't select the current process in the combo box.
        </change>
    </changelist>

    <changelist>
        <date>2003-04-14</date>
        <committer>dawid</committer>

        <change type="bugfix" component="carrot2.controller.carrot2-web">
            Cache was also caching empty response from an input component
            (which was the case when working offline - it's a bug which should
            be handled on the input component's side and should cause an exception,
            but the cache should react appropriately anyway
        </change>

        <change type="new" component="carrot2.controller.carrot2-web">
            Number of requested results form entry on search page.
        </change>

        <change type="new" component="carrot2.controller.carrot2-web">
            Hourglass icon and 'wait' message on search page.
        </change>
        
        <change type="new" component="global">
            History file, DTD and a simple script to convert it to plaintext (plus
            a batch file to run it - try bin\history.bat).
        </change>
    </changelist>

    <changelist>
        <date>2003-04-12</date>
        <committer>dawid</committer>
        
        <change type="bugfix" component="carrot2.controller.carrot2-web">
            Input parameter encoding in index.jsp set to UTF-8 by default.
        </change>
    </changelist>

    <changelist>
        <date>2003-04-12</date>
        <committer>dawid</committer>

        <change type="bugfix" component="carrot2.controller.carrot2-web">
            Process was not remembered in user session.
        </change>

        <change type="new" component="carrot2.controller.carrot2-web">
            Index page can now fill the form with query and
            component id (pass the variables as GET parameters 'query' and
            'processingChain'). Passing 'autosubmit' with 'true' will also
            submit the form automatically.
        </change>
        
        <change type="new" component="carrot2.controller.carrot2-web">
            New flexible query caching system - memory + disk queries supported,
            precached read-only cache added
        </change>
        
        <change scheduled="2003-01-22" type="new" component="carrot2.controller.carrot2-web">
            Demo page and several precached queries to input components (more
            cached queries can be automatically added - just paste them into
            the precached-queries folder - the demo is realized as a read-only cache
            at the end of caches chain.
        </change>

    </changelist>

</history>