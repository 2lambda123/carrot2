function CarrotSearchFoamTree(s){var c=new CarrotSearchVisualization;c.init({visualizationName:"Carrot Search FoamTree",settings:s,defaults:{id:"foamtree",width:"100%",height:"100%",flashPlayerInstallerSwfLocation:"swf/playerProductInstall.swf",visualizationSwfLocation:"FoamTree.swf",logo:"carrot2",dataUrl:null,dataXml:null,logging:false,forceRenderEvent:true,hideMenuItems:false,expandAll:false,backgroundColor:"ff000000",backgroundColorForImageExport:"ff000000",groupColorModel:"gradient",gradientStartColor:"1.0, 0, 1, 0.9",
gradientEndColor:"1.0, 0.83, 1, 0.5",gradientLabelDarkColor:"ff101010",gradientLabelLightColor:"ffe0e0e0",gradientLabelColorThreshold:0.35,paletteGroupColors:["ffdddddd","ff333333"],paletteLabelColors:["ff000000","ffffffff"],customColorCallback:null,groupHoverColor:"40ffffff",groupSelectionColor:"80ffffff",groupSelectionOutlineColor:"d0ffffff",groupOverlayOpacity:0.9,groupOverlayAnimationSpeed:0.5,siblingBorderWidth:1,outsideBorderWidth:4,minFontSize:2,maxFontSize:72,maxLabelSizeForTitleBar:12,titleBarBackgroundColor:"b0000000",
titleBarTextColor:"00ffffff",titleBarTextPaddingTopBottom:15,titleBarTextPaddingLeftRight:20,titleBarMinFontSize:10,titleBarMaxFontSize:40,stripHtmlFromLabels:false,groupSizeWeighting:"document-count",maxZeroScoreGroupSize:0.1,performRelaxation:true,relaxationAfterResize:true,showLabelsDuringRelaxation:false,maxRelaxationSteps:30,mapLayoutAlgorithm:"strip",onLoad:null,onInitialize:null,onModelChanged:null,onModelChanging:null,onGroupSelectionChanging:null,onGroupSelectionChanged:null,onGroupHover:null,
onGroupOpenOrClose:null,wallSqueezeThreshold:0.33,echoServiceUrl:null,useEchoServiceForSaveAsMenu:true},aliases:{"1.1.0":{onGroupSelection:"onGroupSelectionChanging",onModelChange:"onModelChanged"}},reembedinglessSettings:{dataUrl:true,dataXml:true,selection:true},transformers:{backgroundColor:c.toHexString,backgroundColorForImageExport:c.toHexString,groupColorModel:c.toFlashGroupColorModel,gradientLabelDarkColor:c.toHexString,gradientLabelLightColor:c.toHexString,paletteGroupColors:c.colorArrayToString,
paletteLabelColors:c.colorArrayToString,customColorCallback:c.toCallbackWithTransformedResult(c.toHexString),groupHoverColor:c.toHexString,groupSelectionColor:c.toHexString,groupSelectionOutlineColor:c.toHexString,titleBarBackgroundColor:c.toHexString,titleBarTextColor:c.toHexString,logging:c.negate,onInitialize:c.toCallbackOnThisVisualization,onModelChanged:c.toCallbackOnThisVisualization,onModelChanging:c.toCallbackOnThisVisualization,onGroupSelectionChanging:c.toCallbackOnThisVisualization,onGroupSelectionChanged:c.toCallbackOnThisVisualization,
onGroupHover:c.toCallbackOnThisVisualization,onGroupOpenOrClose:c.toCallbackOnThisVisualization},jsToSwfPropertyName:{forceRenderEvent:"forceRenderEvent",hideMenuItems:"hideMenuItems",logo:"logo",backgroundColor:"gui_backgroundColor",onInitialize:"callback_onInitialized",onModelChanged:"callback_onModelChanged",onModelChanging:"callback_onModelChanging",onGroupSelectionChanging:"callback_onGroupSelection",onGroupSelectionChanged:"callback_onSelectionChanged",onGroupHover:"callback_onGroupHover",onGroupOpenOrClose:"callback_onGroupOpenOrClosed",
dataUrl:"startup_data_URL",dataXml:"startup_data_XML",logging:"disableLogging",expandAll:"expandAll",groupColorModel:"gui_colorModel",gradientStartColor:"gui_hsv_start",gradientEndColor:"gui_hsv_end",gradientLabelDarkColor:"gui_hsv_text_dark",gradientLabelLightColor:"gui_hsv_text_light",gradientLabelColorThreshold:"gui_hsv_text_bw_threshold",paletteGroupColors:"gui_palette_nodes",paletteLabelColors:"gui_palette_labels",customColorCallback:"callback_colorModel",groupHoverColor:"gui_hoverColor",groupSelectionColor:"gui_selectionColor",
groupSelectionOutlineColor:"gui_selectedGroupOutline",groupOverlayOpacity:"groupOverlayOpaqueness",groupOverlayAnimationSpeed:"drillFadeSpeed",siblingBorderWidth:"siblingBorderWidth",outsideBorderWidth:"outsideBorderWidth",minFontSize:"minFontSize",maxFontSize:"maxFontSize",maxLabelSizeForTitleBar:"minLineHeightForTitleBar",titleBarBackgroundColor:"gui_titleBarColor",titleBarTextColor:"gui_titleBarTextColor",titleBarTextPaddingTopBottom:"gui_titleBarPaddingV",titleBarTextPaddingLeftRight:"gui_titleBarPaddingH",
titleBarMinFontSize:"gui_titleBarMinFontSize",titleBarMaxFontSize:"gui_titleBarMaxFontSize",stripHtmlFromLabels:"stripHtmlFromLabels",groupSizeWeighting:"weightFunction",maxZeroScoreGroupSize:"maxNegativeSizeRatio",performRelaxation:"autostartRelaxation",showLabelsDuringRelaxation:"labelsDuringRelaxation",relaxationAfterResize:"relaxationAfterResize",maxRelaxationSteps:"maxRelaxationSteps",mapLayoutAlgorithm:"mapLayoutAlgorithm",wallSqueezeThreshold:"wallSqueezeThreshold",backgroundColorForImageExport:"backgroundColorForImageExport",
echoServiceUrl:"echoServiceURL",useEchoServiceForSaveAsMenu:"useEchoServiceForSaveAsMenu"},getOptionMethods:{selection:function(){var l=this.getSelection();return[c.toStringArray(l[0]),c.toStringArray(l[1])]}}});this.get=c.get;this.set=c.set;this.print=c.print;this.saveAsImage=c.saveAsImage;this.collapseAll=c.collapseAll;this.expandAll=c.expandAll;c.embed(true)};function CarrotSearchVisualization(){function s(a){f=a;p(q,f.getOptionMethods);d=p({},f.settings);j()&&window.console.group(f.visualizationName+": initial embedding");t(d,f.reembedinglessSettings,null);d=p({},f.defaults,d)}function c(a){var b=l(a);for(var e in b)b[e]=escape(b[e]);j()&&window.console.info("flashvars: ",b);window.swfobject.embedSWF(d.visualizationSwfLocation,d.id,d.width,d.height,"10.0.0",d.flashPlayerInstallerSwfLocation,b,{wmode:"transparent"},{},function(g){if(g.success){h=g.ref;
j()&&window.console.info("element: ",h)}d.onLoad&&d.onLoad.call(m,g.success);j()&&window.console.groupEnd()});a&&j()&&window.console.groupEnd()}function l(a){var b={};for(var e in d){var g=f.jsToSwfPropertyName[e];if(g){var k=f.transformers[e]?f.transformers[e].call(this,d[e],e):d[e];if(!a||k!==null)b[g]=k}}if(d.groupSizeWeighting=="score")b.zeroScoreReplacement=-100000;return b}function C(){var a;if(arguments.length!=0){if(arguments.length==1)a=arguments[0];else if(arguments.length==2){a={};a[arguments[0]]=
arguments[1]}var b=d.logging;p(d,a);if(i(a,"dataUrl"))delete d.dataXml;else i(a,"dataXml")&&delete d.dataUrl;j()&&window.console.group(f.visualizationName+": setting options");t(a,f.reembedinglessSettings,null);b=false;for(var e in a)if(!f.reembedinglessSettings[e]){b=true;break}if(j()){window.console.info("reload required: ",b);window.console.info("options: ",a)}if(b)if(h&&i(h,"reload")){a=l(false);j()&&window.console.info("flashvars: ",a);h.reload(a)}else c(false);else{if(i(a,"dataUrl")||i(a,"dataXml"))if(d.dataUrl)h.loadDataFromURL(d.dataUrl);
else d.dataXml?h.loadDataFromXML(d.dataXml):h.loadDataFromXML(null);for(var g in x)i(a,g)&&x[g].call(m,a)}j()&&window.console.groupEnd()}}function D(){if(arguments.length==0)return d;else{var a=arguments[0];if(a==null)return f.defaults;var b={};b[a]=true;t(b,q,function(){window.console.group(f.visualizationName+": getting options")});if(i(b,a))if(q[a])return q[a].call(h,arguments[1]);else if(typeof f.defaults[arguments[0]]!=="undefined")return d[arguments[0]]}}function E(a){var b=null;a=a.selection;
delete d.selection;if(a!==null){b=F(a)?a.groups:a;b=u(b)?b:[b]}if(b!==null)for(var e in b)h.selectGroupById(b[e],G(a,"selected",true));else h.clearSelection()}function t(a,b,e){if(f.aliases){var g=false,k=f.aliases;for(var n in k){var y=k[n];for(var o in y){var v=y[o];if(i(a,o)&&!i(a,v)){a[v]=a[o];if(j()){if(!g){e&&e.apply(this);window.console.group(f.visualizationName+": deprecated option names used");g=true}window.console.warn('Use "'+v+'" instead of "'+o+'". The old option name will stop working in version '+
n+".")}delete a[o]}}}if(j()){g&&window.console.groupEnd();e&&window.console.groupEnd()}}for(var r in a)if(!i(f.defaults,r)&&!i(b,r)){j()&&window.console.warn("Ignoring unknown option: ",r);delete a[r]}}function p(a){for(var b=arguments[0],e=arguments.length,g=1;g<e;g++){var k=arguments[g];if(k!=null)for(var n in k)b[n]=k[n]}return b}function G(a,b,e){return i(a,b)?a[b]:e}function i(a,b){return typeof a[b]!="undefined"}function H(a){return typeof a=="string"&&z[a]?z[a]:"hsv"}function w(a){if(u(a)){var b=
[];for(var e in a)b.push(w(a[e]));return b}if(typeof a=="string"){if(/^0x.*/.test(a))return a;if(/^#.*/.test(a))return"0x"+a.substring(1);return"0x"+a}else return a}function I(a){return typeof a=="boolean"?!a:a}function J(a){return u(a)?w(a).join(", "):a}function A(a){if(a==null||typeof a!=="string")return a;return a.split(/,/)}function K(a,b){return B(function(){return a.apply(m,arguments)},b)}function L(a){return function(b,e){return B(function(){var g=b.apply(m,arguments);return a.call(m,g,e)},
e)}}function B(a,b){b="__carrotsearchvisualization__"+d.id.replace(/[^a-zA-Z0-9]/,"")+"__"+b;window[b]=a;return b}function u(a){return Object.prototype.toString.call(a)=="[object Array]"}function F(a){return Object.prototype.toString.call(a)=="[object Object]"}function j(){return d.logging&&typeof window.console!="undefined"&&i(window.console,"group")&&i(window.console,"groupEnd")}function M(a){a=h.groupInfo(a);a[1]=A(a[1]);return a}function N(a){return h.documentInfo(a)}function O(){return h.modelAsXML()}
function P(){return h.documentsPanel(d.documentPanelPosition)}function Q(){return h.print()}function R(){return h.expandAll()}function S(){return h.collapseAll()}function T(a){if(!d.echoServiceUrl&&j())window.console.warn("To use saveAsImage() method, set the echoServiceUrl option first.");else return h.saveAsImage(a)}var f,d,m=this,h=null;this.get=D;this.set=C;this.init=s;this.embed=c;this.print=Q;this.expandAll=R;this.collapseAll=S;this.saveAsImage=T;this.negate=I;this.toFlashGroupColorModel=H;
this.toHexString=w;this.toStringArray=A;this.colorArrayToString=J;this.toCallbackWithTransformedResult=L;this.toCallbackOnThisVisualization=K;this.has=i;var x={documentPanelPosition:P,selection:E},q={group:M,document:N,dataXml:O},z={gradient:"hsv",palette:"palette",custom:"custom"}};
