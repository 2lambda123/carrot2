function CarrotSearchFoamTree(r){function o(){d.set.apply(d,arguments)}function p(){return d.get.apply(d,arguments)}var d=new CarrotSearchVisualization;d.init({visualizationName:"Carrot Search FoamTree",settings:r,defaults:{id:"foamtree",width:"100%",height:"100%",flashPlayerInstallerSwfLocation:"swf/playerProductInstall.swf",visualizationSwfLocation:"FoamTree.swf",logo:"carrot2",dataUrl:null,dataXml:null,logging:false,forceRenderEvent:true,backgroundColor:"ff000000",groupColorModel:"gradient",gradientStartColor:"1.0, 0, 1, 0.9",
gradientEndColor:"1.0, 0.83, 1, 0.5",gradientLabelDarkColor:"ff101010",gradientLabelLightColor:"ffe0e0e0",gradientLabelColorThreshold:0.35,paletteGroupColors:["ffdddddd","ff333333"],paletteLabelColors:["ff000000","ffffffff"],customColorCallback:null,groupHoverColor:"40ffffff",groupSelectionColor:"80ffffff",groupSelectionOutlineColor:"d0ffffff",groupOverlayOpacity:0.9,groupOverlayAnimationSpeed:0.5,siblingBorderWidth:1,outsideBorderWidth:4,minFontSize:2,maxFontSize:72,maxLabelSizeForTitleBar:12,titleBarBackgroundColor:"b0000000",
titleBarTextColor:"00ffffff",titleBarTextPaddingTopBottom:15,titleBarTextPaddingLeftRight:20,titleBarMinFontSize:10,titleBarMaxFontSize:40,stripHtmlFromLabels:false,groupSizeWeighting:"document-count",maxZeroScoreGroupSize:0.1,performRelaxation:true,showLabelsDuringRelaxation:false,maxRelaxationSteps:30,mapLayoutAlgorithm:"strip",onLoad:null,onInitialize:null,onModelChange:null,onGroupSelection:null,onGroupHover:null,onGroupOpenOrClose:null,wallSqueezeThreshold:0.33},reembedinglessSettings:{dataUrl:true,
dataXml:true,selection:true},transformers:{backgroundColor:d.toHexString,groupColorModel:d.toFlashGroupColorModel,gradientLabelDarkColor:d.toHexString,gradientLabelLightColor:d.toHexString,paletteGroupColors:d.colorArrayToString,paletteLabelColors:d.colorArrayToString,customColorCallback:d.toCallbackWithTransformedResult(d.toHexString),groupHoverColor:d.toHexString,groupSelectionColor:d.toHexString,groupSelectionOutlineColor:d.toHexString,titleBarBackgroundColor:d.toHexString,titleBarTextColor:d.toHexString,
logging:d.negate,onInitialize:d.toCallbackOnThisVisualization,onModelChange:d.toCallbackOnThisVisualization,onGroupSelection:d.toCallbackOnThisVisualization,onGroupHover:d.toCallbackOnThisVisualization,onGroupOpenOrClose:d.toCallbackOnThisVisualization},jsToSwfPropertyName:{forceRenderEvent:"forceRenderEvent",logo:"logo",backgroundColor:"gui_backgroundColor",onInitialize:"callback_onInitialized",onModelChange:"callback_onModelChanged",onGroupSelection:"callback_onGroupSelection",onGroupHover:"callback_onGroupHover",
onGroupOpenOrClose:"callback_onGroupOpenOrClosed",dataUrl:"startup_data_URL",logging:"disableLogging",groupColorModel:"gui_colorModel",gradientStartColor:"gui_hsv_start",gradientEndColor:"gui_hsv_end",gradientLabelDarkColor:"gui_hsv_text_dark",gradientLabelLightColor:"gui_hsv_text_light",gradientLabelColorThreshold:"gui_hsv_text_bw_threshold",paletteGroupColors:"gui_palette_nodes",paletteLabelColors:"gui_palette_labels",customColorCallback:"callback_colorModel",groupHoverColor:"gui_hoverColor",groupSelectionColor:"gui_selectionColor",
groupSelectionOutlineColor:"gui_selectedGroupOutline",groupOverlayOpacity:"groupOverlayOpaqueness",groupOverlayAnimationSpeed:"drillFadeSpeed",siblingBorderWidth:"siblingBorderWidth",outsideBorderWidth:"outsideBorderWidth",minFontSize:"minFontSize",maxFontSize:"maxFontSize",maxLabelSizeForTitleBar:"minLineHeightForTitleBar",titleBarBackgroundColor:"gui_titleBarColor",titleBarTextColor:"gui_titleBarTextColor",titleBarTextPaddingTopBottom:"gui_titleBarPaddingV",titleBarTextPaddingLeftRight:"gui_titleBarPaddingH",
titleBarMinFontSize:"gui_titleBarMinFontSize",titleBarMaxFontSize:"gui_titleBarMaxFontSize",stripHtmlFromLabels:"stripHtmlFromLabels",groupSizeWeighting:"weightFunction",maxZeroScoreGroupSize:"maxNegativeSizeRatio",performRelaxation:"autostartRelaxation",showLabelsDuringRelaxation:"labelsDuringRelaxation",maxRelaxationSteps:"maxRelaxationSteps",mapLayoutAlgorithm:"mapLayoutAlgorithm",wallSqueezeThreshold:"wallSqueezeThreshold"}});this.get=p;this.set=o;d.embed()};function CarrotSearchVisualization(){function r(a){g=a;e=u({},g.defaults,g.settings)}function o(){var a=p();for(var b in a)a[b]=escape(a[b]);if(m()){window.console.group(g.visualizationName+": embedding");window.console.info("flashvars: ",a)}window.swfobject.embedSWF(e.visualizationSwfLocation,e.id,e.width,e.height,"10.0.0",e.flashPlayerInstallerSwfLocation,a,{wmode:"transparent"},{},function(c){if(c.success){h=c.ref;m()&&window.console.info("element: ",h)}e.onLoad&&e.onLoad.call(n,c.success);m()&&
window.console.groupEnd()})}function p(){var a={};for(var b in e){var c=g.jsToSwfPropertyName[b];if(c)a[c]=g.transformers[b]?g.transformers[b].call(this,e[b],b):e[b]}if(e.groupSizeWeighting=="score")a.zeroScoreReplacement=-100000;return a}function d(){var a;if(arguments.length!=0){if(arguments.length==1)a=arguments[0];else if(arguments.length==2){a={};a[arguments[0]]=arguments[1]}var b=e.logging;u(e,a);i(a,"dataUrl")&&delete e.dataXml;i(a,"dataXml")&&delete e.dataUrl;if(g.aliases){b=g.aliases;for(var c in b){var k=
b[c];for(var f in k){var j=k[f],l=false;if(i(a,f)&&!i(a,j)){a[j]=a[f];if(m()){if(!l){window.console.group(g.visualizationName+": deprecated option names used");l=true}window.console.warn('Use "'+j+'" instead of "'+f+'". The old option name will stop working in version '+c+".")}delete a[f]}l&&window.console.groupEnd()}}}c=false;for(var s in a)if(!g.reembedinglessSettings[s]){c=true;break}if(m()){window.console.group(g.visualizationName+": setting options");window.console.info("reload required: ",c);
window.console.info("options: ",a);for(var v in a)typeof g.defaults[v]=="undefined"&&window.console.warn("Ignoring unknown option: ",v)}if(c)if(h&&i(h,"reload")){s=p();m()&&window.console.info("flashvars: ",a);h.reload(s)}else o();else{if(i(a,"dataUrl")||i(a,"dataXml"))if(e.dataUrl)h.loadDataFromURL(e.dataUrl);else e.dataXml?h.loadDataFromXML(e.dataXml):h.loadDataFromXML(null);for(var w in x)i(a,w)&&x[w].call(n,a)}m()&&window.console.groupEnd()}}function B(){if(arguments.length==0)return e;else{var a=
arguments[0];if(y[a])return y[a].call(n,arguments[1]);else if(typeof g.defaults[arguments[0]]!=="undefined")return e[arguments[0]];else if(a==null)return g.defaults;else if(m()){window.console.group(g.visualizationName+": getting options");window.console.warn("Ignoring unknown option: ",arguments[0])}}}function C(a){var b=null;a=a.selection;delete e.selection;if(a!==null)if(typeof a=="number")b=[a];else if(q(a))b=a;else if(typeof a.groups=="number")b=[a.groups];else if(q(a.groups))b=a.groups;if(b!==
null)for(var c in b)h.selectGroupById(b[c],D(a,"selected",true));else h.clearSelection()}function u(a){for(var b=arguments[0],c=arguments.length,k=1;k<c;k++){var f=arguments[k];if(f!=null)for(var j in f){var l=f[j];if(l!=null||i(b,j)&&b[j]!=l)b[j]=l}}return b}function D(a,b,c){return i(a,b)?a[b]:c}function i(a,b){return typeof a[b]!="undefined"}function E(a){return typeof a=="string"&&z[a]?z[a]:"hsv"}function t(a){if(q(a)){var b=[];for(var c in a)b.push(t(a[c]));return b}if(typeof a=="string"){if(/^0x.*/.test(a))return a;
if(/^#.*/.test(a))return"0x"+a.substring(1);return"0x"+a}else return a}function F(a){return typeof a=="boolean"?!a:a}function G(a){return q(a)?t(a).join(", "):a}function H(a,b){return A(function(){for(var c=[],k=0;k<arguments.length;k++){var f=arguments[k];if(typeof f=="string"&&/^\d+(,\d+)*$/.test(f)){f=f.split(",");for(var j=[],l=0;l<f.length;l++)j.push(parseInt(f[l],10));j.length>1?c.push(j):c.push(j[0])}else c.push(f)}a.apply(n,c)},b)}function I(a){return function(b,c){return A(function(){var k=
b.apply(n,arguments);return a.call(n,k,c)},c)}}function A(a,b){b="__carrotsearchvisualization__"+e.id.replace(/[^a-zA-Z0-9]/,"")+"__"+b;window[b]=a;return b}function q(a){return Object.prototype.toString.call(a)=="[object Array]"}function m(){return e.logging&&typeof window.console!="undefined"&&i(window.console,"group")&&i(window.console,"groupEnd")}function J(a){return h.groupInfo(a)}function K(a){return h.documentInfo(a)}function L(){return h.modelAsXML()}function M(){return h.documentsPanel(e.documentPanelPosition)}
var g,e,n=this,h=null;this.get=B;this.set=d;this.init=r;this.embed=o;this.negate=F;this.toFlashGroupColorModel=E;this.toHexString=t;this.colorArrayToString=G;this.toCallbackWithTransformedResult=I;this.toCallbackOnThisVisualization=H;this.has=i;var x={documentPanelPosition:M,selection:C},y={group:J,document:K,dataXml:L},z={gradient:"hsv",palette:"palette",custom:"custom"}};
