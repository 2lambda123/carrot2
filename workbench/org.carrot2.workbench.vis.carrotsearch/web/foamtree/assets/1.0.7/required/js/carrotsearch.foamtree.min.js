function CarrotSearchFoamTree(p){var d=new CarrotSearchVisualization;d.init(this,{visualizationName:"Carrot Search FoamTree",settings:p,defaults:{id:"foamtree",width:"100%",height:"100%",flashPlayerInstallerSwfLocation:"swf/playerProductInstall.swf",visualizationSwfLocation:"FoamTree.swf",logo:"carrot2",attributionEnabled:true,attributionText:"FoamTree Visualization, \u00a9 Carrot Search s.c.",attributionUrl:"http://carrotsearch.com/foamtree",dataUrl:null,dataXml:null,logging:false,forceRenderEvent:true,
hideMenuItems:false,expandAll:false,backgroundColor:"ff000000",backgroundColorForImageExport:"ff000000",groupColorModel:"gradient",gradientStartColor:"1.0, 0, 1, 0.9",gradientEndColor:"1.0, 0.83, 1, 0.5",gradientLabelDarkColor:"ff101010",gradientLabelLightColor:"ffe0e0e0",gradientLabelColorThreshold:0.35,paletteGroupColors:["ffdddddd","ff333333"],paletteLabelColors:["ff000000","ffffffff"],customColorCallback:null,groupHoverColor:"40ffffff",groupSelectionColor:"80ffffff",groupSelectionOutlineColor:"d0ffffff",
groupOverlayOpacity:0.9,groupOverlayAnimationSpeed:0.5,siblingBorderWidth:1,outsideBorderWidth:4,cornerRoundness:0,minFontSize:2,maxFontSize:72,renderLabelsAsBitmap:false,maxLabelSizeForTitleBar:12,titleBarBackgroundColor:"b0000000",titleBarTextColor:"00ffffff",titleBarTextPaddingTopBottom:15,titleBarTextPaddingLeftRight:20,titleBarMinFontSize:10,titleBarMaxFontSize:40,stripHtmlFromLabels:false,groupSizeWeighting:"document-count",maxZeroScoreGroupSize:0.1,performRelaxation:true,relaxationAfterResize:true,
showLabelsDuringRelaxation:false,maxRelaxationSteps:30,quietRelaxationSteps:0,mapLayoutAlgorithm:"strip",onLoad:null,onInitialize:null,onModelChanged:null,onModelChanging:null,onGroupSelectionChanging:null,onGroupSelectionChanged:null,onGroupHover:null,onGroupOpenOrClose:null,onGroupDoubleClick:null,wallSqueezeThreshold:0.33,echoServiceUrl:null,useEchoServiceForSaveAsMenu:true},aliases:{"1.1.0":{onGroupSelection:"onGroupSelectionChanging",onModelChange:"onModelChanged"}},reembedinglessSettings:{dataUrl:true,
dataXml:true,selection:true},transformers:{backgroundColor:d.toHexString,backgroundColorForImageExport:d.toHexString,groupColorModel:d.toFlashGroupColorModel,gradientLabelDarkColor:d.toHexString,gradientLabelLightColor:d.toHexString,paletteGroupColors:d.colorArrayToString,paletteLabelColors:d.colorArrayToString,customColorCallback:d.toCallbackWithTransformedResult(d.toHexString),groupHoverColor:d.toHexString,groupSelectionColor:d.toHexString,groupSelectionOutlineColor:d.toHexString,titleBarBackgroundColor:d.toHexString,
titleBarTextColor:d.toHexString,logging:d.negate,onInitialize:d.toCallbackOnThisVisualization,onModelChanged:d.toCallbackOnThisVisualization,onModelChanging:d.toCallbackOnThisVisualization,onGroupSelectionChanging:d.toCallbackOnThisVisualization,onGroupSelectionChanged:d.toCallbackOnThisVisualization,onGroupHover:d.toCallbackOnThisVisualization,onGroupOpenOrClose:d.toCallbackOnThisVisualization,onGroupDoubleClick:d.toCallbackOnThisVisualization},jsToSwfPropertyName:{forceRenderEvent:"forceRenderEvent",
hideMenuItems:"hideMenuItems",logo:"logo",attributionEnabled:"attributionEnabled",attributionText:"attributionText",attributionUrl:"attributionUrl",backgroundColor:"gui_backgroundColor",onInitialize:"callback_onInitialized",onModelChanged:"callback_onModelChanged",onModelChanging:"callback_onModelChanging",onGroupSelectionChanging:"callback_onGroupSelection",onGroupSelectionChanged:"callback_onSelectionChanged",onGroupHover:"callback_onGroupHover",onGroupOpenOrClose:"callback_onGroupOpenOrClosed",
onGroupDoubleClick:"callback_onGroupDoubleClick",dataUrl:"startup_data_URL",dataXml:"startup_data_XML",logging:"disableLogging",expandAll:"expandAll",groupColorModel:"gui_colorModel",gradientStartColor:"gui_hsv_start",gradientEndColor:"gui_hsv_end",gradientLabelDarkColor:"gui_hsv_text_dark",gradientLabelLightColor:"gui_hsv_text_light",gradientLabelColorThreshold:"gui_hsv_text_bw_threshold",paletteGroupColors:"gui_palette_nodes",paletteLabelColors:"gui_palette_labels",customColorCallback:"callback_colorModel",
groupHoverColor:"gui_hoverColor",groupSelectionColor:"gui_selectionColor",groupSelectionOutlineColor:"gui_selectedGroupOutline",groupOverlayOpacity:"groupOverlayOpaqueness",groupOverlayAnimationSpeed:"drillFadeSpeed",siblingBorderWidth:"siblingBorderWidth",outsideBorderWidth:"outsideBorderWidth",cornerRoundness:"cornerRoundness",minFontSize:"minFontSize",maxFontSize:"maxFontSize",renderLabelsAsBitmap:"renderLabelsAsBitmap",maxLabelSizeForTitleBar:"minLineHeightForTitleBar",titleBarBackgroundColor:"gui_titleBarColor",
titleBarTextColor:"gui_titleBarTextColor",titleBarTextPaddingTopBottom:"gui_titleBarPaddingV",titleBarTextPaddingLeftRight:"gui_titleBarPaddingH",titleBarMinFontSize:"gui_titleBarMinFontSize",titleBarMaxFontSize:"gui_titleBarMaxFontSize",stripHtmlFromLabels:"stripHtmlFromLabels",groupSizeWeighting:"weightFunction",maxZeroScoreGroupSize:"maxNegativeSizeRatio",performRelaxation:"autostartRelaxation",showLabelsDuringRelaxation:"labelsDuringRelaxation",relaxationAfterResize:"relaxationAfterResize",maxRelaxationSteps:"maxRelaxationSteps",
quietRelaxationSteps:"quietRelaxationSteps",mapLayoutAlgorithm:"mapLayoutAlgorithm",wallSqueezeThreshold:"wallSqueezeThreshold",backgroundColorForImageExport:"backgroundColorForImageExport",echoServiceUrl:"echoServiceURL",useEchoServiceForSaveAsMenu:"useEchoServiceForSaveAsMenu"},getOptionMethods:{selection:function(){var n=this.getSelection();return[d.toStringArray(n[0]),d.toStringArray(n[1])]}}});this.embed(true)};function CarrotSearchVisualization(){function p(a,b){o=a;h=b;q(r,h.getOptionMethods);e=q({},h.settings);k()&&window.console.group(h.visualizationName+": initial embedding");s(e,h.reembedinglessSettings,null);e=q({},h.defaults,e);d(o)}function d(a){a.get=C;a.set=D;a.init=p;a.embed=n;a.print=E;a.expandAll=F;a.expand=G;a.collapseAll=H;a.collapse=I;a.saveAsImage=J;a.updateColors=K}function n(a){var b=t(a);l(b,function(c,f){b[c]=encodeURIComponent(f)});k()&&window.console.info("flashvars: ",b);window.swfobject.embedSWF(e.visualizationSwfLocation,
e.id,e.width,e.height,"10.0.0",e.flashPlayerInstallerSwfLocation,b,{wmode:"transparent"},{},function(c){if(c.success){g=c.ref;k()&&window.console.info("element: ",g)}e.onLoad&&e.onLoad.call(z,c.success);k()&&window.console.groupEnd()});a&&k()&&window.console.groupEnd()}function t(a){var b={};l(e,function(c,f){var i=h.jsToSwfPropertyName[c];if(i){c=h.transformers[c]?h.transformers[c].call(this,f,c):f;if(!a||c!==null)b[i]=c}});if(e.groupSizeWeighting=="score")b.zeroScoreReplacement=-100000;b.onPreinit=
u(function(){return t(false)},"preinit");return b}function D(){var a;if(arguments.length!=0){if(arguments.length==1)a=arguments[0];else if(arguments.length==2){a={};a[arguments[0]]=arguments[1]}var b=e.logging;q(e,a);if(j(a,"dataUrl"))delete e.dataXml;else j(a,"dataXml")&&delete e.dataUrl;k()&&window.console.group(h.visualizationName+": setting options");s(a,h.reembedinglessSettings,null);var c=false;l(a,function(f){if(!h.reembedinglessSettings[f]){c=true;return false}});if(k()){window.console.info("reload required: ",
c);window.console.info("options: ",a)}if(c)if(g&&j(g,"reload")){b=t(false);k()&&window.console.info("flashvars: ",b);g.reload(b)}else n(false);else{if(j(a,"dataUrl")||j(a,"dataXml"))if(e.dataUrl)g.loadDataFromURL(e.dataUrl);else e.dataXml?g.loadDataFromXML(e.dataXml):g.loadDataFromXML(null);l(L,function(f,i){j(a,f)&&i.call(z,a)})}k()&&window.console.groupEnd()}}function C(){if(arguments.length==0)return e;else{var a=arguments[0];if(a==null)return h.defaults;var b={};b[a]=true;s(b,r,function(){window.console.group(h.visualizationName+
": getting options")});if(j(b,a))if(r[a])return r[a].call(g,arguments[1]);else if(typeof h.defaults[arguments[0]]!=="undefined")return e[arguments[0]]}}function M(a){var b=null,c=a.selection;delete e.selection;if(c!==null){a=N(c)?c.groups:c;b=v(a)?a:[a]}b!==null?l(b,function(f,i){g.selectGroupById(i,O(c,"selected",true))}):g.clearSelection()}function s(a,b,c){if(h.aliases){var f=false;l(h.aliases,function(i,w){l(w,function(m,x){if(j(a,m)&&!j(a,x)){a[x]=a[m];if(k()){if(!f){c&&c.apply(this);window.console.group(h.visualizationName+
": deprecated option names used");f=true}window.console.warn('Use "'+x+'" instead of "'+m+'". The old option name will stop working in version '+i+".")}delete a[m]}})});if(k()){f&&window.console.groupEnd();c&&window.console.groupEnd()}}l(a,function(i){if(!j(h.defaults,i)&&!j(b,i)){k()&&window.console.warn("Ignoring unknown option: ",i);delete a[i]}})}function q(a){for(var b=arguments[0],c=arguments.length,f=1;f<c;f++){var i=arguments[f];i!=null&&l(i,function(w,m){b[w]=m})}return b}function O(a,b,
c){return j(a,b)?a[b]:c}function j(a,b){return typeof a[b]!="undefined"}function l(a,b){var c,f=0,i=a.length;if(i===undefined)for(c in a){if(b.call(a[c],c,a[c])===false)break}else for(;f<i;)if(b.call(a[f],f,a[f++])===false)break;return a}function P(a){return typeof a=="string"&&A[a]?A[a]:"hsv"}function y(a){if(v(a)){var b=[];l(a,function(c,f){b.push(y(f))});return b}if(typeof a=="string"){if(/^0x.*/.test(a))return a;if(/^#.*/.test(a))return"0x"+a.substring(1);return"0x"+a}else return a}function Q(a){return typeof a==
"boolean"?!a:a}function R(a){return v(a)?y(a).join(", "):a}function B(a){if(typeof a!=="string")return a;return a.split(/,/)}function S(a,b){return a&&u(function(){return a.apply(o,arguments)},b)}function T(a){return function(b,c){return u(function(){var f=b&&b.apply(o,arguments);return a.call(o,f,c)},c)}}function u(a,b){b="__carrotsearchvisualization__"+e.id.replace(/[^a-zA-Z0-9]/,"")+"__"+b;window[b]=a;return b}function v(a){return Object.prototype.toString.call(a)=="[object Array]"}function N(a){return Object.prototype.toString.call(a)==
"[object Object]"}function k(){return e.logging&&typeof window.console!="undefined"&&j(window.console,"group")&&j(window.console,"groupEnd")}function U(a){a=g.groupInfo(a);a[1]=B(a[1]);return a}function V(a){return g.documentInfo(a)}function W(){return g.modelAsXML()}function X(){return g.documentsPanel(e.documentPanelPosition)}function E(){return g.print()}function F(){return g.expandAll()}function G(a){return g.setOpen(a,true)}function H(){return g.collapseAll()}function I(a){return g.setOpen(a,
false)}function K(){return g.updateColorModel()}function Y(a){return g.getRegion(a)}function J(a){if(!e.echoServiceUrl&&k())window.console.warn("To use saveAsImage() method, set the echoServiceUrl option first.");else return g.saveAsImage(a)}var h,e,z=this,o,g=null;this.init=p;this.negate=Q;this.toFlashGroupColorModel=P;this.toHexString=y;this.toStringArray=B;this.colorArrayToString=R;this.toCallbackWithTransformedResult=T;this.toCallbackOnThisVisualization=S;this.has=j;var L={documentPanelPosition:X,
selection:M},r={group:U,document:V,dataXml:W,region:Y},A={gradient:"hsv",palette:"palette",custom:"custom"}};