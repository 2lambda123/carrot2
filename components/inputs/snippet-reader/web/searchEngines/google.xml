<?xml version="1.0"?>
<!-- Query request description -->
<service>
    <request encoding="UTF-8">
        <!-- Query processing service.

          Specify the base url of the script/ host, which processes queries
          (don't include any parameters - they will be defined later).

          Also, specify the method of posting parameters to the service,
          either "post" or "get" are available.
        -->
        <service  url="http://www.google.com/search"  method="get" />

        <!-- Specify any other parameters which will be sent to the service
          If "value" attribute is defined, the parameter will have the
          value copied verbatim from this file. If "mapto" attribute
          is defined, the value will be copied from the runtime environment
          of the application (e.g. query.string will default to the current
          query string).

          Available maps:

          query.string
          query.startFrom
        -->
        <parameters>
            <parameter name="q"       mapto="query.string" />
            <parameter name="start"   mapto="query.startFrom" />
            <parameter name="num"     value="50" />
            <parameter name="ie"      value="UTF-8" />
            <parameter name="oe"      value="UTF-8" />
        </parameters>

        <!-- override the http-headers you need here -->
        <http-overrides>
            <header name="User-Agent">Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1)</header>
            <header name="Accept-Charset">UTF-8</header>
        </http-overrides>
    </request>

    <response encoding="UTF-8">
        <!-- optional elements for multipage reader -->
        <pageinfo>
            <expected-results-per-page>50</expected-results-per-page>
            <!-- issues a warning if the number of recognized snippets drops below this percentage. -->
            <warn-when-below>0.8</warn-when-below>

            <!-- actual number of results found on a results page.
                 This property MUST be found for the snippets to
                 be extracted -->
            <number-of-matched-documents>
                <regexpression>
                    <match><![CDATA[of about[^S]*S]]></match>
                    <replace regexp="[^0123456789]*" with="" />
                </regexpression>
            </number-of-matched-documents>

            <!-- if no results number is found, the page is again checked whether
                 it matched a 'no-results' page -->
            <no-results-marker>
                <regexpression>
                    <match><![CDATA[did not match any documents]]></match>
                </regexpression>
            </no-results-marker>
        </pageinfo>

        <!-- Here goes configuration for tree snipet extractor-->
        <extractor>
            <snippet>
                <p>
					<a address="attribute:href" title="inside"><content /></a><br description="beginAfter"/>
					<font>
						<content /><br />
						<font description="endBefore" />
						<a><content /></a>
					</font>
				</p>
            </snippet>
        </extractor>
    </response>
</service>
