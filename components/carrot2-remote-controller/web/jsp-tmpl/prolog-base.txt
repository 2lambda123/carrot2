<%@taglib uri="/WEB-INF/struts-html.tld" prefix="html" %>
<%@taglib uri="/WEB-INF/struts-bean.tld" prefix="bean" %>
<%@taglib uri="/WEB-INF/struts-logic.tld" prefix="logic" %>

<% request.setCharacterEncoding("UTF-8"); %>

<jsp:useBean id="configurationBean" scope="session" class="com.dawidweiss.carrot.remote.controller.struts.forms.ConfigurationForm" />
<jsp:setProperty name="configurationBean" property="*" />


<!-- ### Set up locale according to what the browser sent -->


<%
    javax.servlet.http.HttpSession s = ((HttpServletRequest) pageContext.getRequest()).getSession();
    if (s != null)
    {
        if (s.getAttribute(org.apache.struts.action.Action.LOCALE_KEY) == null)
        {
            s.setAttribute(org.apache.struts.action.Action.LOCALE_KEY, request.getLocale());
        }
    }
%>


<!-- ### Check if Carrot2 controller servlet has been started -->


<logic:present name="CARROT_INIT_ERROR" scope="application">
    <logic:notPresent name="dontRedirect" scope="page" >
        <logic:redirect page="/notStarted.jsp" />
    </logic:notPresent>
</logic:present>


<!-- ### Header of any page - stylesheets etc -->

<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet" type="text/css" title="style" media="all"
          href="<%= request.getContextPath() + "/css/carrot2.css" %>"/>
</head>

