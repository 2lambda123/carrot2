<?xml version="1.0" encoding="ISO-8859-1" ?>

<!DOCTYPE struts-config PUBLIC
          "-//Apache Software Foundation//DTD Struts Configuration 1.0//EN"
          "http://jakarta.apache.org/struts/dtds/struts-config_1_0.dtd">

<!-- STRUTS configuration for Carrot2 -->

<struts-config>

    <form-beans>
        <form-bean name="configurationBean"
            type="com.dawidweiss.carrot.remote.controller.struts.forms.ConfigurationForm" />
        <form-bean name="queryBean"
            type="com.dawidweiss.carrot.remote.controller.struts.forms.QueryForm" />
        <form-bean name="componentBean"
            type="com.dawidweiss.carrot.remote.controller.struts.forms.ComponentForm" />
    </form-beans>

    <global-forwards>
        <forward   name="main"                path="/index.jsp" />
        <forward   name="search"              path="/search.jsp" />
        <forward   name="runtimeError"        path="/error.jsp" />
        <forward   name="whatis"              path="/whatis.jsp" />
    </global-forwards>

    <action-mappings>
        <action
            path="/admin/cacheclear"
            type="com.dawidweiss.carrot.remote.controller.struts.actions.CacheClearAction"
        >
            <forward name="ok" path="/admin/cacheCleared.jsp"/>
        </action>

        <action
            path="/reconfig"
            type="com.dawidweiss.carrot.remote.controller.struts.actions.ReconfigureAction"
            name="configurationBean"
            scope="session"
            validate="true"
        >
            <forward name="ok" path="/index.jsp"/>
        </action>

        <action
            path="/search"
            type="com.dawidweiss.carrot.remote.controller.struts.actions.SearchAction"
            name="queryBean"
            scope="session"
            validate="false"
        >
            <forward name="visualize" path="/output.jsp" />
            <forward name="processingError"  path="/processingError.jsp" />
            <forward name="welcome" path="/welcome.jsp" />
        </action>

        <action
            path="/newsearch"
            type="com.dawidweiss.carrot.remote.controller.struts.actions.NewSearchAction"
            name="queryBean"
            scope="session"
            validate="false"
        >
            <forward name="topframe" path="/index.jsp" />
        </action>

        <!-- ADMIN ACTIONS -->

        <action
            path="/admin/editComponent"
            type="com.dawidweiss.carrot.remote.controller.struts.actions.EditComponentAction"
            name="componentBean"
            scope="request"
            validate="false"
        >
            <forward name="edit" path="/admin/editComponent.jsp" />
        </action>

    </action-mappings>

</struts-config>
